<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Naz â€“ Narnia BuzlarÄ±</title>
<style>
body {
  margin: 0;
  background: black;
  overflow: hidden;
  font-family: Arial;
  color: white;
}
#start {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.85);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 10;
  cursor: pointer;
}
canvas { display:block; margin:auto; }
</style>
</head>
<body>

<div id="start">
  <h1>â„ï¸ Naz Narnia BuzlarÄ±nda â„ï¸</h1>
  <p>TÄ±kla â†’ Ok tuÅŸlarÄ±yla ilerle</p>
  <p>â¤ï¸ 3 Can | ğŸ’– Sen kÄ±yÄ±dasÄ±n</p>
</div>

<canvas id="game" width="900" height="400"></canvas>

<audio id="ice" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5f3c8d7e9f.mp3"></audio>
<audio id="bg" src="https://cdn.pixabay.com/audio/2022/10/25/audio_8d8c89c9d6.mp3" loop></audio>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const start = document.getElementById("start");
const bg = document.getElementById("bg");
const ice = document.getElementById("ice");

let started = false;
let naz = {x:50,y:260,w:30,h:30};
let speed = 6;
let lives = 3;

start.onclick = () => {
  started = true;
  start.style.display = "none";
  bg.play();
};

document.addEventListener("keydown", e=>{
  if(!started) return;
  if(e.key==="ArrowRight") naz.x += speed;
  if(e.key==="ArrowLeft") naz.x -= speed;
});

function drawIce(){
  ctx.fillStyle="#bfefff";
  for(let i=0;i<10;i++){
    ctx.fillRect(i*90+40,300,60,20);
  }
}

function update(){
  if(!started) return requestAnimationFrame(update);
  ctx.clearRect(0,0,900,400);

  drawIce();

  // Naz
  ctx.fillStyle="pink";
  ctx.fillRect(naz.x,naz.y,naz.w,naz.h);
  ctx.fillText("Naz",naz.x-5,naz.y-5);

  // Sen (kÄ±yÄ±da)
  ctx.fillStyle="red";
  ctx.fillRect(840,250,30,60);
  ctx.fillText("â¤ï¸",845,240);

  // DÃ¼ÅŸme
  if(naz.x>150 && naz.x<750 && Math.random()<0.005){
    ice.play();
    lives--;
    naz.x=50;
    alert(lives>0 ? "ğŸ’– Kalbin Nazâ€™Ä± kurtardÄ±!" : "ğŸ’” Oyun bitti");
    if(lives<=0) location.reload();
  }

  // Kazanma
  if(naz.x>820){
    alert("ğŸ‰ Naz karÅŸÄ±ya geÃ§ti! AÅŸk kazandÄ±!");
    location.reload();
  }

  requestAnimationFrame(update);
}
update();
</script>
</body>
</html>
