<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Naz & Buzlar</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  touch-action: none;
  background: linear-gradient(#b0e0ff, #ffffff);
  font-family: Arial, sans-serif;
}

#game {
  position: relative;
  width: 100vw;
  height: 100vh;
}

#naz {
  position: absolute;
  width: 40px;
  height: 40px;
  background: pink;
  border-radius: 50%;
  left: 50px;
  bottom: 120px;
  text-align: center;
  line-height: 40px;
  font-size: 14px;
}

.ice {
  position: absolute;
  width: 80px;
  height: 20px;
  background: #e0f7fa;
  border-radius: 10px;
  bottom: 80px;
}

#hud {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 22px;
}
</style>
</head>

<body>
<div id="game">
  <div id="hud">❤️❤️❤️</div>
  <div id="naz">Naz</div>
</div>

<script>
const game = document.getElementById("game");
const naz = document.getElementById("naz");
const hud = document.getElementById("hud");

let y = 120;
let vy = 0;
let gravity = 1.2;
let jumping = false;
let lives = 3;
let iceBlocks = [];

function createIce() {
  const ice = document.createElement("div");
  ice.className = "ice";
  ice.style.left = window.innerWidth + "px";
  game.appendChild(ice);
  iceBlocks.push(ice);
}

setInterval(createIce, 1600);

function gameLoop() {
  vy -= gravity;
  y += vy;

  let onIce = false;

  iceBlocks.forEach((ice, i) => {
    ice.style.left = (ice.offsetLeft - 3) + "px";

    if (
      ice.offsetLeft < 90 &&
      ice.offsetLeft + 80 > 50 &&
      y <= 100 &&
      y >= 80 &&
      vy <= 0
    ) {
      onIce = true;
      vy = 0;
      y = 100;
    }

    if (ice.offsetLeft < -100) {
      ice.remove();
      iceBlocks.splice(i, 1);
    }
  });

  if (!onIce && y < 60) {
    lives--;
    hud.innerText = "❤️".repeat(lives);
    y = 120;
    vy = 0;

    if (lives <= 0) {
      alert("Naz buzlara düştü ❄️");
      location.reload();
    }
  }

  naz.style.bottom = y + "px";
  requestAnimationFrame(gameLoop);
}

game.addEventListener("touchstart", function(e) {
  e.preventDefault();
  if (vy === 0) vy = 18;
}, { passive: false });

game.addEventListener("mousedown", () => {
  if (vy === 0) vy = 18;
});

gameLoop();
</script>
</body>
</html>
